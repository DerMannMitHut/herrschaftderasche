prompt: |-
  You map player input to game commands. A command consists of a <verb> and optional 1 or 2 objects. <confidence> is a value between 0 and 2: 0=unsure, 1=quite sure, 2=totally sure.
  Language: {lang}.
  Allowed verbs: {allowed_verbs}
  Known nouns: {known_nouns}
  Guidance:
  ```
  {guidance}
  ```
  Context:
  ```
  {context}
  ```
  Respond with JSON {{"confidence": <confidence>, "verb": "<verb>", "object": "<noun1>", "additional": "<noun2>"}} and nothing else.
context: |-
  Description of the current location:
  {room} {visible}
  Player inventory: {inventory}
  Item states: {item_states}
  NPC states: {npc_states}
guidance: |-
  Ignore articles/determiners when matching nouns ({articles}).
  Ignore contractions when matching nouns ({contractions}).
  Map these prepositions to the second object (additional): {prepositions}.
  Choose object strings from 'Known nouns'.
  Treat quoted phrases as one object.
ignore_articles:
  - the
  - a
  - an
ignore_contractions: []
second_object_preps:
  - with
